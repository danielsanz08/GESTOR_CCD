{% load static %}
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block titulo %}GESTOR CCD{% endblock %}</title>
  <link rel="icon" type="image/x-icon" href="{% static 'imagen/LOGO.png' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=OpenDyslexic:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet">

</head>
<style>
   .tooltip-container {
      position: relative;
      display: inline-block;
    }
    .tooltip-text {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 6px 8px;
      border-radius: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      white-space: nowrap;
      font-size: 12px;
    }
    .tooltip-container:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
</style>
<body>
</body>
<div class="fondo">
  <img src="{% static 'imagen/LOGO.png' %}" alt="Logo CCD">
</div>

<style>
  /* Móviles (hasta 767px) */
  @media (max-width: 767px) {

    /* Fondo */
    .fondo img {
      position: fixed;
      top: 40vh;
      left: 0;
      width: 95%;
      height: 90;
      object-fit: cover;
      z-index: -1;
      opacity: 1;
      opacity: 0.3;
    }
  }

  /* Tablets (768px — 1024px) */
  @media (min-width: 768px) and (max-width: 1024px) {

    /* Fondo */
    .fondo img {
      position: fixed;
      top: 30vh;
      left: 0;
      width: 95%;
      height: 90;
      object-fit: cover;
      z-index: -1;
      opacity: 1;
      opacity: 0.3;
    }
  }

  /* Escritorio (1025px en adelante) */
  @media (min-width: 1025px) {

    /* Fondo */
    .fondo img {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      opacity: 1;
      opacity: 0.3;
    }
  }

  html,
  body {
    overflow: hidden;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    position: fixed;

  }
</style>
<!-- ============= SECCIÓN NAVBAR ============= -->
<div class="navbar">
  {% if user.is_authenticated %}
  <span class="username-text">{{ user.username }} - {{ user.role }}</span>
  {% endif %}
  <div class="gestor-container">
    <h2 class="gestor">GESTOR CCD</h2>

  </div>
  <!-- Botones dentro del navbar -->
  <div class="navbar-buttons">
    <button id="toggle-accessibility-menu" title="Opciones de accesibilidad">
      <i class="bi bi-gear-fill"></i>
    </button>

    <!-- Espaciador -->
    <span class="icon-spacer"></span>

    <!-- Botón de cerrar sesión -->
    {% if user.is_authenticated %}
    <a href="{% url 'papeleria:logout_view' %}" class="btn-logout" title="Cerrar Sesión">
      <span class="logout-text"><i class="bi bi-box-arrow-right"></i> Cerrar sesión</span>
    </a>
    {% endif %}
  </div>
</div>
<style>
  body.dark .navbar,
    body.dark img,
    body.dark footer{
      background-color: #000;
      opacity: none;
    }
  /* Móviles (hasta 767px) */
  @media (max-width: 767px) {
    .navbar {
      font-family: "Garamond", serif;
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #1c96bb;
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: bold;
      z-index: 1000;
      height: 65px !important;
      justify-content: center;
      align-items: center;
    }

    .gestor-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .gestor {
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .username-text {
      display: none;
      font-size: 1em;
      font-weight: bold;
      color: white;
      position: absolute;
      left: 10vh;
    }

    .navbar-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .icon-spacer {
      width: 15px;
    }

    .navbar-buttons button,
    .navbar-buttons a {
      background-color: transparent;
      color: white;
      border: none;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 8px 12px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      position: absolute;

    }

    #toggle-accessibility-menu {
      position: absolute;
      left: 3vh;
      bottom: 0vh;
    }

    .navbar-buttons button:hover,
    .navbar-buttons a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }

    .btn-logout {
      position: absolute;
      left: 30vh;
      bottom: 0vh;
    }

    .btn-logout span {
      font-size: 1em;
      font-weight: bold;
    }

  }

  /* Tablets (768px — 1024px) */
  @media (min-width: 768px) and (max-width: 1024px) {
    .navbar {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #1c96bb;
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: bold;
      z-index: 1000;
      height: 65px !important;
      justify-content: center;
      align-items: center;
    }

    .gestor-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .gestor {
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .username-text {
      display: none;
      font-size: 1em;
      font-weight: bold;
      color: white;
      position: absolute;
      left: 10vh;
    }

    .navbar-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .icon-spacer {
      width: 15px;
    }

    .navbar-buttons button,
    .navbar-buttons a {
      background-color: transparent;
      color: white;
      border: none;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 8px 12px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      position: absolute;

    }

    #toggle-accessibility-menu {
      position: absolute;
      left: 3vh;
      bottom: 0vh;
    }

    .navbar-buttons button:hover,
    .navbar-buttons a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }

    .btn-logout {
      position: absolute;
      left: 58vh;
      bottom: 0vh;

    }

    .btn-logout span {
      font-size: 1em;
      font-weight: bold;
    }
    
  }

  /* Escritorio (1025px en adelante) */
  @media (min-width: 1025px) {
    .navbar {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #1c96bb;
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: bold;
      z-index: 1000;
      height: 65px !important;
      justify-content: center;
      align-items: center;
    }
    
    .gestor-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .gestor {
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .username-text {
      font-size: 1em;
      font-weight: bold;
      color: white;
      position: absolute;
      left: 10vh;
    }

    .navbar-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .icon-spacer {
      width: 15px;
    }

    .navbar-buttons button,
    .navbar-buttons a {
      background-color: transparent;
      color: white;
      border: none;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 8px 12px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      position: absolute;

    }

    #toggle-accessibility-menu {
      margin-left: -116vh;

    }

    .navbar-buttons button:hover,
    .navbar-buttons a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }

    .btn-logout {
      right: 5vh !important;
    }

    .btn-logout span {
      font-size: 1em;
      font-weight: bold;
    }
  }

 
</style>
<!-- ============= SECCIÓN ALERTA ============= -->
 <style>
  
 [data-tooltip] {
  position: relative;
  cursor: pointer;
}

[data-tooltip]::after {
  content: attr(data-tooltip);
  visibility: hidden;
  background-color: #333;
  color: #fff;
  text-align: center;
  padding: 6px 8px;
  border-radius: 5px;
  position: absolute;
  z-index: 1;
  bottom: 125%; /* posición sobre el elemento */
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  transition: opacity 0.3s;
  white-space: nowrap;
  font-size: 12px;
}

[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
}

</style>

<!-- ============= SECCIÓN FOOTER ============= -->
<footer>
  <p>© {% now "Y" %} GESTOR CCD</p>
</footer>
<style>
  footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 40px;
    background-color: #1c96bb;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    margin: 0;
    font-size: 14px;
    font-weight: bold;
    z-index: 1000;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  }
</style>
<!-- ============= SECCIÓN BREADCRUMBS ============= -->
{% if user.is_authenticated and breadcrumbs %}
<div class="breadcrumbs-container" title="Breadcrumb">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      {% for breadcrumb in breadcrumbs %}
      {% if breadcrumb.url %}
      <li class="breadcrumb-item"><a href="{{ breadcrumb.url }}">{{ breadcrumb.name }}</a></li>
      {% else %}
      <li class="breadcrumb-item active" aria-current="page">{{ breadcrumb.name }}</li>
      {% endif %}
      {% endfor %}
    </ol>
  </nav>
</div>
{% endif %}
<style>
  /* Móviles (hasta 767px) */
  @media (max-width: 767px) {
    .breadcrumbs-container {
      background-color: rgba(255, 255, 255, 0);
      color: #000;
      position: fixed;
      top: 90px;
      left: 0;

      border-radius: 0;
      padding: 10px 20px;
      z-index: 999;

      text-align: left;
      display: flex;
      justify-content: flex-start;
      margin-left: 0;

    }

    .breadcrumb {
      list-style: none;
      padding-left: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      text-align: center;
    }

    .breadcrumb-item {
      display: inline;
    }

    .breadcrumb-item a {
      color: #000;
      text-decoration: none;
      font-weight: bold;
      background-color: #1c96bb62;
      padding: 5px 10px;
      border-radius: 20px;
      display: inline-block;
      transition: background-color 0.3s ease;
    }

    .breadcrumb-item a:hover {
      background-color: #1c96bb;
      color: white;
    }

    .breadcrumb-item.active {
      color: #ffffff;
      background-color: #1c96bb;
      padding: 5px 10px;
      border-radius: 20px;
      font-weight: bold;
    }
  }

  /* Tablets (768px — 1024px) */
  @media (min-width: 768px) and (max-width: 1024px) {
    .breadcrumbs-container {
      background-color: rgba(255, 255, 255, 0);
      color: #000;
      position: fixed;
      top: 90px;
      left: 0;
      right: 0;
      border-radius: 0;
      padding: 10px 20px;
      z-index: 999;
      width: 100%;
      text-align: left;
      display: flex;
      justify-content: flex-start;
      margin-left: 0;
    }

    .breadcrumb {
      list-style: none;
      padding-left: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      text-align: center;
    }

    .breadcrumb-item {
      display: inline;
    }

    .breadcrumb-item a {
      color: #000;
      text-decoration: none;
      font-weight: bold;
      background-color: #1c96bb62;
      padding: 5px 10px;
      border-radius: 20px;
      display: inline-block;
      transition: background-color 0.3s ease;
    }

    .breadcrumb-item a:hover {
      background-color: #1c96bb;
      color: white;
    }

    .breadcrumb-item.active {
      color: #ffffff;
      background-color: #1c96bb;
      padding: 5px 10px;
      border-radius: 20px;
      font-weight: bold;
    }
  }

  /* Escritorio (1025px en adelante) */
  @media (min-width: 1025px) {
    .breadcrumbs-container {
      background-color: rgba(255, 255, 255, 0);
      color: #000;
      position: fixed;
      top: 90px;
      left: 0;
      border-radius: 0;
      padding: 10px 20px;
      z-index: 999;
      text-align: left;
      display: flex;
      justify-content: flex-start;
      margin-left: 0;

    }

    .breadcrumb {
      list-style: none;
      padding-left: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      text-align: center;
    }

    .breadcrumb-item {
      display: inline;
    }

    .breadcrumb-item a {
      color: #000;
      text-decoration: none;
      font-weight: bold;
      background-color: #1c96bb62;
      padding: 5px 10px;
      border-radius: 20px;
      display: inline-block;
      transition: background-color 0.3s ease;
    }

    .breadcrumb-item a:hover {
      background-color: #1c96bb;
      color: white;
    }

    .breadcrumb-item.active {
      color: #ffffff;
      background-color: #1c96bb;
      padding: 5px 10px;
      border-radius: 20px;
      font-weight: bold;
    }
  }
</style>
<!-- ============= SECCIÓN MENSAJES DE ALERTA ============= -->
{% if messages %}
<div class="alert-container">
  {% for message in messages %}
    {% if message.tags == 'success' %}
    <div class="custom-alert alert-success">
      <span class="icon"></span> {{ message }}
    </div>
    {% elif message.tags == 'error' %}
    <div class="custom-alert alert-error">
      <span class="icon"></span> {{ message }}
    </div>
    {% elif message.tags == 'info' %}
    <div class="custom-alert alert-info">
      <span class="icon"></span> {{ message }}
    </div>
    {% endif %}
  {% endfor %}
</div>
{% endif %}

<style>
  .alert-container {
    position: fixed;
    top: 100px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: fit-content;
    max-width: 90%;
  }

  /* Móviles (hasta 767px) */
  @media (max-width: 767px) {
    .custom-alert {
      width: 30vh;
      border: solid 1px;
      font-weight: bold;
      padding: 15px 30px;
      border-radius: 5px;
      text-align: center;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.5s ease-out forwards, fadeOut 0.5s ease-in 4.5s forwards;
    }

    .alert-success {
      background-color: rgba(144, 238, 144, 0.527);
      border-color: rgba(0, 128, 0, 0.473);
      color: rgb(0, 100, 0);
    }

    .alert-error {
      background-color: rgba(255, 99, 71, 0.699);
      border-color: rgba(139, 0, 0, 0.473);
      color: rgb(139, 0, 0);
    }

    .alert-info {
      background-color: rgba(235, 181, 4, 0.726);
      border-color: rgba(118, 139, 0, 0.473);
      color: rgb(139, 16, 0);
    }
    .icon {
      margin-right: 10px;
    }
  }

  /* Escritorio (1025px en adelante) */
  @media (min-width: 1025px) {
    .custom-alert {
      width: 50vh;
      border: solid 1px;
      font-weight: bold;
      padding: 15px 30px;
      border-radius: 5px;
      text-align: center;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.5s ease-out forwards, fadeOut 0.5s ease-in 4.5s forwards;
    }

    .alert-success {
      background-color: rgba(144, 238, 144, 0.527);
      border-color: rgba(0, 128, 0, 0.473);
      color: rgb(0, 100, 0);
    }

    .alert-error {
      background-color: rgba(255, 99, 71, 0.699);
      border-color: rgba(139, 0, 0, 0.473);
      color: rgb(139, 0, 0);
    }

    .alert-info {
      background-color: rgba(235, 181, 4, 0.726);
      border-color: rgba(118, 139, 0, 0.473);
      color: rgb(139, 16, 0);
    }

    .icon {
      margin-right: 10px;
    }
  }

  /* Tablets (768px — 1024px) */
  @media (min-width: 768px) and (max-width: 1024px) {
    .custom-alert {
      width: 40vh;
      border: solid 1px;
      font-weight: bold;
      padding: 15px 30px;
      border-radius: 5px;
      text-align: center;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.5s ease-out forwards, fadeOut 0.5s ease-in 4.5s forwards;
    }

    .alert-success {
      background-color: rgba(144, 238, 144, 0.527);
      border-color: rgba(0, 128, 0, 0.473);
      color: rgb(0, 100, 0);
    }

    .alert-error {
      background-color: rgba(255, 99, 71, 0.699);
      border-color: rgba(139, 0, 0, 0.473);
      color: rgb(139, 0, 0);
    }

    .alert-info {
      background-color: rgba(235, 181, 4, 0.726);
      border-color: rgba(118, 139, 0, 0.473);
      color: rgb(139, 16, 0);
    }

    .icon {
      margin-right: 10px;
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }
</style>
<!-- ============= MENÚ DE ACCESIBILIDAD ============= -->
<div id="accessibility-menu" class="hidden">
  <div class="accessibility-grid">
    <!-- Fila 1 -->
    <button class="accessibility-btn dark-mode" data-tooltip="Modo Oscuro">
      <i class="bi bi-moon-fill"></i>
    </button>
    <button class="accessibility-btn monocromo" data-tooltip="Modo Monocromo">
      <i class="bi bi-circle-half"></i>
    </button>
    <!-- Fila 2 -->
    <button class="accessibility-btn titulos" data-tooltip="Resaltar Títulos">
      <i class="bi bi-type-h1"></i>
    </button>
    <button class="accessibility-btn enlaces" data-tooltip="Resaltar Enlaces">
      <i class="bi bi-link-45deg"></i>
    </button>
    <!-- Fila 3 -->
    <button class="accessibility-btn alta-saturacion" data-tooltip="Alta Saturación">
      <i class="bi bi-palette-fill"></i>
    </button>
    <button class="accessibility-btn bajo-contraste" data-tooltip="Bajo Contraste">
      <i class="bi bi-eye-slash"></i>
    </button>
  </div>
  <!-- Controles de Zoom separados -->
  <div class="zoom-section">
    <div class="zoom-controls">
      <button class="zoom-btn" id="zoom-out" data-tooltip="Disminuir Zoom">
        <i class="bi bi-zoom-out"></i>
      </button>
      <span id="zoom-percentage">100%</span>
      <button class="zoom-btn" id="zoom-in" data-tooltip="Aumentar Zoom">
        <i class="bi bi-zoom-in"></i>
      </button>
    </div>
    <button class="zoom-reset-btn" id="zoom-reset" data-tooltip="Restablecer Zoom">
      <i class="bi bi-arrow-clockwise"></i>
    </button>
  </div>
</div>
<style>
  /* Tablets (768px — 1024px) */
  /* Móviles (hasta 767px) */
  @media (max-width: 767px) {

    /* Menú de accesibilidad */
    #accessibility-menu {
      background-color: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(0, 0, 0, 0.15);
      padding: 20px;
      border-radius: 16px;
      display: none;
      position: fixed;
      top: 100px;
      right: 80px;
      width: 260px;
      max-width: 90vw;
      z-index: 3000;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    #accessibility-menu.visible {
      display: block;
    }

    .accessibility-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .accessibility-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 12px;
      width: 100%;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(180, 204, 241, 0.4);
    }

    .accessibility-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(180, 204, 241, 0.6);
    }

    .zoom-section {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      padding-top: 16px;
    }

    .zoom-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .zoom-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
    }

    .zoom-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.6);
    }

    #zoom-percentage {
      font-size: 16px;
      font-weight: 600;
      color: #333;
    }

    .zoom-reset-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 8px;
      width: 100%;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }

    .zoom-reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
    }

    [data-tooltip]:before,
    [data-tooltip]:after {
      z-index: 3001;
    }
  }

  /* Tablets (768px — 1024px) */
  @media (min-width: 768px) and (max-width: 1024px) {

    /* Menú de accesibilidad */
    #accessibility-menu {
      background-color: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(0, 0, 0, 0.15);
      padding: 20px;
      border-radius: 16px;
      display: none;
      position: fixed;
      top: 100px;
      left: 50px;
      width: 460px;
      height: 400px;
      max-width: 90vw;
      z-index: 3000;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    #accessibility-menu.visible {
      display: block;
    }

    .accessibility-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .accessibility-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 12px;
      width: 100%;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(180, 204, 241, 0.4);
    }

    .accessibility-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(180, 204, 241, 0.6);
    }

    .zoom-section {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      padding-top: 16px;
    }

    .zoom-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .zoom-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
    }

    .zoom-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.6);
    }

    #zoom-percentage {
      font-size: 16px;
      font-weight: 600;
      color: #333;
    }

    .zoom-reset-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 8px;
      width: 100%;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }

    .zoom-reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
    }

    [data-tooltip]:before,
    [data-tooltip]:after {
      z-index: 3001;
    }
  }

  /* Escritorio (1025px en adelante) */
  @media (min-width: 1025px) {

    /* Menú de accesibilidad */
    #accessibility-menu {
      background-color: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(0, 0, 0, 0.15);
      padding: 20px;
      border-radius: 16px;
      display: none;
      position: fixed;
      top: 100px;
      left: 10px;
      width: 260px;
      max-width: 90vw;
      z-index: 3000;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    #accessibility-menu.visible {
      display: block;
    }

    .accessibility-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .accessibility-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 12px;
      width: 100%;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(180, 204, 241, 0.4);
    }

    .accessibility-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(180, 204, 241, 0.6);
    }

    .zoom-section {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      padding-top: 16px;
    }

    .zoom-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .zoom-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
    }

    .zoom-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.6);
    }

    #zoom-percentage {
      font-size: 16px;
      font-weight: 600;
      color: #333;
    }

    .zoom-reset-btn {
      background: linear-gradient(135deg, #1c96bb 0%, #80adf0 100%);
      color: white;
      border: none;
      border-radius: 8px;
      width: 100%;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }

    .zoom-reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
    }

    [data-tooltip]:before,
    [data-tooltip]:after {
      z-index: 3001;
    }
  }
</style>
<!-- ============= SCRIPTS PARA FUNCIONALIDADES DE ACCESIBILIDAD ============= -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleButton = document.getElementById("toggle-accessibility-menu");
    const menu = document.getElementById("accessibility-menu");
    toggleButton.addEventListener("click", function (event) {
      event.stopPropagation();
      menu.classList.toggle("visible");
    });
    menu.addEventListener("click", function (event) {
      event.stopPropagation();
    });
    document.addEventListener("click", function () {
      menu.classList.remove("visible");
    });
  });
  // Funciones de accesibilidad
  function toggleDarkMode() {
    document.body.classList.toggle('dark');
    localStorage.setItem('darkMode', document.body.classList.contains('dark') ? 'enabled' : 'disabled');
  }
  document.querySelector('.dark-mode').addEventListener('click', toggleDarkMode);
  function toggleMonocromo() {
    document.body.classList.toggle('monocromo-activo');
    localStorage.setItem('monocromo', document.body.classList.contains('monocromo-activo') ? 'enabled' : 'disabled');
  }
  document.querySelector('.monocromo').addEventListener('click', toggleMonocromo);
  function toggleResaltarTitulos() {
    document.body.classList.toggle('resaltar-titulos');
    localStorage.setItem('resaltarTitulos', document.body.classList.contains('resaltar-titulos') ? 'enabled' : 'disabled');
  }
  document.querySelector('.titulos').addEventListener('click', toggleResaltarTitulos);
  function toggleResaltarEnlaces() {
    document.body.classList.toggle('resaltar-enlaces');
    localStorage.setItem('resaltarEnlaces', document.body.classList.contains('resaltar-enlaces') ? 'enabled' : 'disabled');
  }
  document.querySelector('.enlaces').addEventListener('click', toggleResaltarEnlaces);
  document.querySelector('.alta-saturacion').addEventListener('click', () => {
    document.body.classList.toggle('alta-saturacion');
  });
  document.querySelector('.bajo-contraste').addEventListener('click', () => {
    document.body.classList.toggle('bajo-contraste');
  });
  const zoomStep = 10;
  const minZoom = 50;
  const maxZoom = 200;
  const root = document.documentElement;
  const zoomDisplay = document.getElementById("zoom-percentage");
  function setZoom(percentage) {
    percentage = Math.max(minZoom, Math.min(maxZoom, percentage));
    root.style.fontSize = percentage + "%";
    zoomDisplay.textContent = percentage + "%";
    localStorage.setItem("zoomLevel", percentage);
  }
  document.getElementById("zoom-in").addEventListener("click", () => {
    const current = parseInt(localStorage.getItem("zoomLevel")) || 100;
    setZoom(current + zoomStep);
  });
  document.getElementById("zoom-out").addEventListener("click", () => {
    const current = parseInt(localStorage.getItem("zoomLevel")) || 100;
    setZoom(current - zoomStep);
  });
  document.getElementById("zoom-reset").addEventListener("click", () => {
    setZoom(100);
  });
  window.addEventListener('DOMContentLoaded', () => {
    const darkMode = localStorage.getItem('darkMode');
    if (darkMode === 'enabled') document.body.classList.add('dark');
    const estadoMonocromo = localStorage.getItem('monocromo');
    if (estadoMonocromo === 'enabled') document.body.classList.add('monocromo-activo');
    if (localStorage.getItem('resaltarTitulos') === 'enabled') document.body.classList.add('resaltar-titulos');
    if (localStorage.getItem('resaltarEnlaces') === 'enabled') document.body.classList.add('resaltar-enlaces');
    const savedZoom = parseInt(localStorage.getItem("zoomLevel")) || 100;
    setZoom(savedZoom);
  });
</script>
{% block contenido %}
{% endblock%}
<!-- ============= SCRIPTS ADICIONALES ============= -->
<script src=" https://unpkg.com/feather-icons "></script>
<script>
  feather.replace();
</script>
<style>
  a {
    text-decoration: none;
  }
</style>


</html>