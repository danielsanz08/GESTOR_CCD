{% extends 'navbar.html' %}
{% load static %}

{% block titulo %}Inicio{% endblock %}

{% block contenido %}
<<<<<<< HEAD
=======
<<<<<<< HEAD
>>>>>>> b659cb3 (Sexagésimo commit)
<style>
    .empleado-card {
        display: grid;
        grid-template-columns: 1fr 1fr;
        position: absolute;
        left: 10vh;
        top: 10vh;
        padding: 10vh 10vh 10vh 10vh;
        
    }

    .card-uno {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        background: linear-gradient(to bottom, rgba(10, 91, 196, 0.596), rgba(4, 45, 97, 0.596));

        padding: 15px;
        border-radius: 10px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        width: 380px;
        height: 80px;
        margin-left: 15vh;
        margin-bottom: 5lvh;
    }

    .card-uno:hover {
        background: linear-gradient(to bottom, rgba(4, 45, 97, 0.596), rgba(10, 91, 196, 0.596));
        transform: scale(1.05);
        border: 10px white;
    }
</style>
<link rel="stylesheet" href="{% static 'css/index_pap.css' %}?v={% now 'U' %}">

{% if request.user.role == 'Administrador' %}

<div class="uno">
    <a href="{% url 'libreria:crear_usuario' %}">
        <div class="opcion">
            <i data-feather="user-plus" class="icono"></i>
            <span>Crear usuario</span>
        </div>
    </a>
   
    <a href="{% url 'libreria:ver_usuario' user.id %}">
        <div class="opcion">
            <i data-feather="plus-square" class="icono"></i>
            <span>Ver perfil</span>
        </div>
    </a>

    <a href="{% url 'libreria:lista_usuarios' %}">
        <div class="opcion">
            <i data-feather="users" class="icono"></i>
            <span>Lista de usuarios</span>
        </div>
    </a>
    <a href="{% url 'papeleria:crear_articulo' %}">
        <div class="opcion">
            <i data-feather="file-plus" class="icono"></i>
</i>
            <span>Crear articulo</span>
        </div>
    </a>
    <a href="{% url 'papeleria:listar_articulo' %}">
        <div class="opcion">
            <i data-feather="package" class="icono"></i>
            <span>Listar articulos</span>
        </div>
    </a>
    <a href="{% url 'papeleria:crear_pedido' %}">
        <div class="opcion">
            <i data-feather="shopping-cart" class="icono"></i>
            <span>Pedidos</span>
        </div>
    </a>
    <a href="{% url 'papeleria:listado_pedidos' %}">
        <div class="opcion">
            <i data-feather="list" class="icono"></i>
            <span>Listado de Pedidos</span>
        </div>
    </a>
    <a href="{% url 'papeleria:pedidos_pendientes' %}">
        <div class="opcion">
            <i data-feather="list" class="icono"></i>
            <span>Pedidos pendientes</span>
        </div>
    </a>
    <a href="{% url 'papeleria:lista_bajo_stock'  %}">
        <div class="opcion">
        <i data-feather="alert-triangle" class="icono"></i>
        <span>Bajo stock</span>
    </div>
    </a>
    <a href="{% url 'papeleria:index_estadistica'  %}">
        <div class="opcion">
        <i data-feather="bar-chart" class="icono"></i>
        <span>Estadisticas</span>
    </div>
    </a>
    <a href="{% url 'libreria:cambiar_contraseña'  %}">
        <div class="opcion">
            <i data-feather="lock" class="icono"></i>
            <span>Cambiar contraseña</span>
        </div>
    </a>
    <a href="{% url 'papeleria:logout_view' %}">
        <div class="opcion">
            <i data-feather="log-out" class="icono"></i>
            <span>Salir</span>
        </div>
    </a>
</div>
>
{% endif %}
{% if request.user.role == 'Empleado' %}
<div class="uno">
    <a href="{% url 'libreria:ver_usuario' user.id %}">
        <div class="opcion">
            <i data-feather="plus-square" class="icono"></i>
            <span>Ver perfil</span>
        </div>
    </a>

    </a>
    <a href="{% url 'papeleria:crear_pedido' %}">
        <div class="opcion">
            <i data-feather="shopping-cart" class="icono"></i>
            <span>Pedidos</span>
        </div>
    </a>
  
    <a href="{% url 'libreria:cambiar_contraseña'  %}">
        <div class="opcion">
            <i data-feather="lock" class="icono"></i>
            <span>Cambiar contraseña</span>
        </div>
    </a>
    <a href="{% url 'papeleria:pedidos_pendientes' %}">
        <div class="opcion">
            <i data-feather="list" class="icono"></i>
            <span>Pedidos Pendientes</span>
        </div>
    </a>
    <a href="{% url 'papeleria:listado_pedidos' %}">
        <div class="opcion">
            <i data-feather="list" class="icono"></i>
            <span>Listado de Pedidos</span>
        </div>
    </a>
    <a href="{% url 'papeleria:logout_view' %}">
        <div class="opcion">
            <i data-feather="log-out" class="icono"></i>
            <span>Salir</span>
        </div>
    </a>
    
</div>

{% endif %}



<script>
    feather.replace();
</script>

<<<<<<< HEAD
=======
=======
<link rel="stylesheet" href="{% static 'css/index_pap.css' %}?v={% now 'U' %}">

{% if user.is_authenticated %}
<div class="main-container">
    <div class="main-cards">
        <!-- Card Usuarios -->
        <div class="main-card" onclick="openModal('usuarios-modal')">
            <i data-feather="users" class="main-card-icon"></i>
            <h2 class="main-card-title">Usuarios</h2>
        </div>

        {% if request.user.role == 'Administrador' %}
        <!-- Card Artículos -->
        <div class="main-card" onclick="openModal('articulos-modal')">
            <i data-feather="package" class="main-card-icon"></i>
            <h2 class="main-card-title">Artículos</h2>
        </div>
        {% endif %}

        <!-- Card Pedidos -->
        <div class="main-card" onclick="openModal('pedidos-modal')">
            <i data-feather="shopping-cart" class="main-card-icon"></i>
            <h2 class="main-card-title">Pedidos</h2>
        </div>

        {% if request.user.role == 'Administrador' %}
        <!-- Card Estadísticas -->
        <div class="main-card" onclick="openModal('estadisticas-modal')">
            <i data-feather="bar-chart" class="main-card-icon"></i>
            <h2 class="main-card-title">Estadísticas</h2>
        </div>

        <!-- Card Backup -->
        <div class="main-card" onclick="openModal('backup-modal')">
            <i data-feather="database" class="main-card-icon"></i>
            <h2 class="main-card-title">Backup</h2>
        </div>
        {% endif %}

        <!-- Card Manual -->
        <div class="main-card" onclick="openModal('manual-modal')">
            <i data-feather="book-open" class="main-card-icon"></i>
            <h2 class="main-card-title">Manual</h2>
        </div>
    </div>
</div>

<!-- Modal Usuarios -->
<div class="modal-overlay" id="usuarios-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Gestión de Usuarios</h2>
            <button class="close-modal" onclick="closeModal('usuarios-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                {% if request.user.role == 'Administrador' %}
                <a href="{% url 'libreria:crear_usuario' %}" class="modal-option">
                    <i data-feather="user-plus" class="modal-option-icon"></i>
                    <span class="modal-option-text">Crear usuario</span>
                </a>
                {% endif %}

                <a href="{% url 'libreria:ver_usuario' user.id %}" class="modal-option">
                    <i data-feather="user" class="modal-option-icon"></i>
                    <span class="modal-option-text">Ver perfil</span>
                </a>

                {% if request.user.role == 'Administrador' %}
                <a href="{% url 'libreria:lista_usuarios' %}" class="modal-option">
                    <i data-feather="users" class="modal-option-icon"></i>
                    <span class="modal-option-text">Lista de usuarios</span>
                </a>
                {% endif %}

                <a href="{% url 'libreria:cambiar_contraseña' %}" class="modal-option">
                    <i data-feather="lock" class="modal-option-icon"></i>
                    <span class="modal-option-text">Cambiar contraseña</span>
                </a>
            </div>
        </div>
    </div>
</div>

{% if request.user.role == 'Administrador' %}
<!-- Modal Artículos -->
<div class="modal-overlay" id="articulos-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Gestión de Artículos</h2>
            <button class="close-modal" onclick="closeModal('articulos-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                <a href="{% url 'papeleria:crear_articulo' %}" class="modal-option">
                    <i data-feather="file-plus" class="modal-option-icon"></i>
                    <span class="modal-option-text">Crear artículo</span>
                </a>

                <a href="{% url 'papeleria:listar_articulo' %}" class="modal-option">
                    <i data-feather="package" class="modal-option-icon"></i>
                    <span class="modal-option-text">Listar artículos</span>
                </a>

                <a href="{% url 'papeleria:lista_bajo_stock' %}" class="modal-option">
                    <i data-feather="alert-triangle" class="modal-option-icon"></i>
                    <span class="modal-option-text">Bajo stock</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Modal Pedidos -->
<div class="modal-overlay" id="pedidos-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Gestión de Pedidos</h2>
            <button class="close-modal" onclick="closeModal('pedidos-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                <a href="{% url 'papeleria:crear_pedido' %}" class="modal-option">
                    <i data-feather="shopping-cart" class="modal-option-icon"></i>
                    <span class="modal-option-text">Nuevo pedido</span>
                </a>

                {% if request.user.role == 'Administrador' %}
                <a href="{% url 'papeleria:listado_pedidos' %}" class="modal-option">
                    <i data-feather="list" class="modal-option-icon"></i>
                    <span class="modal-option-text">Pedidos confirmados</span>
                </a>
                {% endif %}

                <a href="{% url 'papeleria:pedidos_pendientes' %}" class="modal-option">
                    <i data-feather="clock" class="modal-option-icon"></i>
                    <span class="modal-option-text">Pedidos pendientes</span>
                </a>

                <a href="{% url 'papeleria:mis_pedidos' %}" class="modal-option">
                    <i data-feather="clipboard" class="modal-option-icon"></i>
                    <span class="modal-option-text">Mis pedidos</span>
                </a>
            </div>
        </div>
    </div>
</div>

{% if request.user.role == 'Administrador' %}
<!-- Modal Estadísticas -->
<div class="modal-overlay" id="estadisticas-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Estadísticas</h2>
            <button class="close-modal" onclick="closeModal('estadisticas-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                <a href="{% url 'papeleria:index_estadistica' %}" class="modal-option">
                    <i data-feather="bar-chart" class="modal-option-icon"></i>
                    <span class="modal-option-text">Ver estadísticas</span>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Modal Backup -->
<div class="modal-overlay" id="backup-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Copia de Seguridad</h2>
            <button class="close-modal" onclick="closeModal('backup-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                <a href="{% url 'backup:index_backup' %}" class="modal-option">
                    <i data-feather="database" class="modal-option-icon"></i>
                    <span class="modal-option-text">Gestión de Backup</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Modal Manual -->
<div class="modal-overlay" id="manual-modal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Manual de Usuario</h2>
            <button class="close-modal" onclick="closeModal('manual-modal')">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-options">
                <a href="{% url 'libreria:manual_usuario' %}" target="_blank" class="modal-option">
                    <i data-feather="book-open" class="modal-option-icon"></i>
                    <span class="modal-option-text">Abrir manual</span>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Alerta de stock bajo -->
{% if request.user.role == 'Administrador' and request.user.acceso_pap and es_papeleria and mostrar_alerta and bajo_stock %}
<div id="stock-alert" class="alert-overlay">
    <div class="alert-box">
        <button class="close-btn" onclick="cerrarAlerta()">&times;</button>
        <p>¡Atención! Hay artículos con stock menor a 10 unidades.</p>
    </div>
</div>
{% endif %}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        feather.replace();
    });

    function openModal(modalId) {
        document.getElementById(modalId).classList.add('active');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
    }

    document.querySelectorAll('.modal-overlay').forEach(function (modal) {
        modal.addEventListener('click', function (e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    });

    function cerrarAlerta() {
        const alerta = document.getElementById('stock-alert');
        if (alerta) {
            alerta.style.display = 'none';
        }
    }
</script>

{% else %}
<div class="logout-message">
    <p>Se ha cerrado tu sesión</p>
</div>
{% endif %}

<style>
    .alert-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        backdrop-filter: blur(2px);
    }

    .alert-box {
        background: white;
        padding: 25px 35px;
        border-radius: 12px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.4);
        text-align: center;
        z-index: 10000;
        width: 70vh;
        margin-left: 7vh;
        margin-top: -2vh;
        position: relative;
    }

    .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
        color: #000;
        background: none;
        border: none;
    }

    .close-btn:hover {
        color: #555;
    }
</style>
>>>>>>> 3797db6 (Sexagésimo tercer commit)
>>>>>>> b659cb3 (Sexagésimo commit)
{% endblock %}